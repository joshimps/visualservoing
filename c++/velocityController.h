#include "ros/ros.h"
#include "geometry_msgs/PoseWithCovariance.h"

class VelocityController{
    public:

    protected:

    private:

    ///////////////////////////////////////////////////////////////////////////////////////////
    // Constructors and Destructors
    /////////////////////////////////////////////////////////////////////////////////////////

    VelocityController(ros::NodeHandle nh);
    ~VelocityController();

    ///////////////////////////////////////////////////////////
    // Calculation
    //////////////////////////////////////////////////////////

    void calculateJointVelocities();
    
    ///////////////////////////////////////////////////////////
    // Callbacks and Services
    //////////////////////////////////////////////////////////

    void fiducialPositionCallBack(const geometry_msgs::PoseWithCovariancePtr &msg);

    ///////////////////////////////////////////////////////////////////////
    // Node, Publishers and Subscribers
    /////////////////////////////////////////////////////////////////////

    ros::NodeHandle nh_;
    ros::Subscriber fiducialPositionSub_;
    ros::Publisher jointVelocityPub_;

    ///////////////////////////////////////////////////////////////////////
    // Controller Parameters
    /////////////////////////////////////////////////////////////////////
    double gain_;
    double errorThreshold_;

    ///////////////////////////////////////////////////////////////////////
    // Variables
    /////////////////////////////////////////////////////////////////////

    geometry_msgs::PoseWithCovariance fiducialPose_;

};